{"id":38133,"date":"2024-02-01T13:51:56","date_gmt":"2024-02-01T12:51:56","guid":{"rendered":"https:\/\/citronnoir.com\/?p=38133"},"modified":"2024-02-12T19:03:43","modified_gmt":"2024-02-12T18:03:43","slug":"filtrer-si-le-panier-woocommerce-est-vide-avec-oxygen-builder","status":"publish","type":"post","link":"https:\/\/citronnoir.com\/snippet-wordpress\/filtrer-si-le-panier-woocommerce-est-vide-avec-oxygen-builder\/","title":{"rendered":"Filtrer si le panier Woocommerce est vide avec Oxygen Builder"},"content":{"rendered":"\n<h2 class=\"wp-block-heading has-text-align-center\">Code personnalis\u00e9<\/h2>\n\n\n\n<p class=\"has-text-align-center\">Conseil : Ajouter ce code personnalis\u00e9 \u00e0 l'aide du plugin Code Snippe<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>add_action( 'init' , 'cn_empty_cart_condition' );\nfunction cn_empty_cart_condition() {\n   global $oxy_condition_operators; \n    oxygen_vsb_register_condition(\n        'Le panier est vide ?',\n        array( \n            'options' =&gt; array(true, false),\n            'custom' =&gt; false\n        ),\n        $oxy_condition_operators&#91;'simple'],\n        'cn_condition_empty_cart_callback',\n        'Woo User'\n    );\n}\nfunction cn_condition_empty_cart_callback( $value, $operator ) {   \n    if (! is_user_logged_in() ) {\n        return false;\n    }\n\t$emptycart = WC()-&gt;cart-&gt;is_empty();   \n    $value = (bool) $value;  \n    return oxy_condition_eval_string($emptycart, $value, $operator);\n}<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\">Explications du snippet :<\/h2>\n\n\n\n<ul class=\"wp-block-list\">\n<li><strong>Enregistrement de la condition personnalis\u00e9e<\/strong> :\n<ul class=\"wp-block-list\">\n<li>Utilisez <code>add_action<\/code> avec le hook <code>init<\/code> pour s'assurer que votre condition est enregistr\u00e9e d\u00e8s que WordPress est charg\u00e9.<\/li>\n\n\n\n<li>La fonction <code>oxygen_vsb_register_condition<\/code> est appel\u00e9e pour cr\u00e9er la condition dans Oxygen Builder, o\u00f9 vous d\u00e9finissez le nom de la condition, les options disponibles (dans ce cas, vrai ou faux), et le groupe sous lequel la condition doit appara\u00eetre.<\/li>\n<\/ul>\n<\/li>\n\n\n\n<li><strong>D\u00e9finition du Callback<\/strong> :\n<ul class=\"wp-block-list\">\n<li>La fonction <code>cn_condition_empty_cart_callback<\/code> est d\u00e9finie comme le callback de la condition. Elle est responsable de l'\u00e9valuation de la condition (si le panier est vide ou non).<\/li>\n\n\n\n<li>Elle commence par v\u00e9rifier si l'utilisateur est connect\u00e9, car la condition ne s'applique qu'aux utilisateurs connect\u00e9s.<\/li>\n<\/ul>\n<\/li>\n\n\n\n<li><strong>V\u00e9rification de l'\u00e9tat du panier<\/strong> :\n<ul class=\"wp-block-list\">\n<li>La fonction acc\u00e8de au panier WooCommerce via <code>WC()-&gt;cart-&gt;is_empty()<\/code> pour d\u00e9terminer si le panier est actuellement vide.<\/li>\n\n\n\n<li>Elle compare ensuite cet \u00e9tat avec la valeur attendue (<code>$value<\/code>) en utilisant une fonction hypoth\u00e9tique <code>oxy_condition_eval_string<\/code>, qui devrait \u00e9valuer si l'\u00e9tat du panier correspond \u00e0 la condition d\u00e9finie dans l'\u00e9diteur Oxygen.<\/li>\n<\/ul>\n<\/li>\n\n\n\n<li><strong>R\u00e9sultat de la condition<\/strong> :\n<ul class=\"wp-block-list\">\n<li>Le r\u00e9sultat de cette \u00e9valuation d\u00e9termine si des \u00e9l\u00e9ments sp\u00e9cifiques seront affich\u00e9s ou cach\u00e9s sur le site, en fonction de l'\u00e9tat du panier de l'utilisateur.<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n","protected":false},"excerpt":{"rendered":"<p>Ce snippet permet de cr\u00e9er une condition personnalis\u00e9e dans Oxygen Builder pour d\u00e9tecter si le panier d'achat WooCommerce d'un utilisateur est vide. Cette condition peut \u00eatre extr\u00eamement utile pour afficher ou masquer des \u00e9l\u00e9ments sp\u00e9cifiques sur un site, am\u00e9liorant ainsi l'exp\u00e9rience d'achat et la navigation. <\/p>\n","protected":false},"author":4,"featured_media":38154,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_seopress_robots_primary_cat":"none","_seopress_titles_title":"Filtrer si le panier Woocommerce est vide avec Oxygen Builder","_seopress_titles_desc":"Ce snippet permet de cr\u00e9er une condition personnalis\u00e9e dans Oxygen Builder pour d\u00e9tecter si le panier d&#039;achat WooCommerce d&#039;un utilisateur est vide ou non.","_seopress_robots_index":"","footnotes":""},"categories":[200],"tags":[],"class_list":["post-38133","post","type-post","status-publish","format-standard","has-post-thumbnail","hentry","category-snippet-wordpress"],"_links":{"self":[{"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/posts\/38133"}],"collection":[{"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/users\/4"}],"replies":[{"embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/comments?post=38133"}],"version-history":[{"count":3,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/posts\/38133\/revisions"}],"predecessor-version":[{"id":38147,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/posts\/38133\/revisions\/38147"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/media\/38154"}],"wp:attachment":[{"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/media?parent=38133"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/categories?post=38133"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/tags?post=38133"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}