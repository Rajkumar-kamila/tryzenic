{"id":38159,"date":"2024-02-01T15:20:18","date_gmt":"2024-02-01T14:20:18","guid":{"rendered":"https:\/\/citronnoir.com\/?p=38159"},"modified":"2024-02-12T19:02:45","modified_gmt":"2024-02-12T18:02:45","slug":"woocommerce-afficher-a-partir-de","status":"publish","type":"post","link":"https:\/\/citronnoir.com\/snippet-wordpress\/woocommerce-afficher-a-partir-de\/","title":{"rendered":"Afficher '\u00e0 partir de' pour les produits variables WooCommerce"},"content":{"rendered":"\n<h2 class=\"wp-block-heading has-text-align-center\">Code personnalis\u00e9<\/h2>\n\n\n\n<p class=\"has-text-align-center\">Conseil : Ajouter ce code personnalis\u00e9 \u00e0 l'aide du plugin Code Snippet<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>add_filter( 'woocommerce_variable_sale_price_html', 'cn_variation_price_format', 10, 2 );\nadd_filter( 'woocommerce_variable_price_html', 'cn_variation_price_format', 10, 2 );\n\nfunction cn_variation_price_format( $price, $product ) { \n\t\/\/ On r\u00e9cup\u00e8re le prix min et max du produit variable\n\t$min_price = $product->get_variation_price( 'min', true );\n\t$max_price = $product->get_variation_price( 'max', true );\n\n\t\/\/ Si les prix sont diff\u00e9rents on affiche \"\u00c0 partir de ...\"\n\tif ($min_price != $max_price) { \t\t\n\t\t$price = sprintf( __( '\u00c0 partir de %1$s', 'woocommerce' ), wc_price( $min_price ) );\n\t\treturn $price; \t\n\t} else {\n\t\t\/\/ Sinon on affiche juste le prix\n\t\t$price = sprintf( __( '%1$s', 'woocommerce' ), wc_price( $min_price ) );\n\t\treturn $price; \t\n\t}\n}<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\">Explications du snippet :<\/h2>\n\n\n\n<ul class=\"wp-block-list\">\n<li><strong>Utilisation des Hooks WooCommerce :<\/strong> Le code utilise <code>woocommerce_variable_sale_price_html<\/code> et <code>woocommerce_variable_price_html<\/code> pour cibler l'affichage des prix des produits variables. Ces hooks sont essentiels pour intervenir dans la fa\u00e7on dont WooCommerce pr\u00e9sente les prix.<\/li>\n\n\n\n<li><strong>Fonction de Personnalisation :<\/strong> La fonction <code>wpm_variation_price_format<\/code> est d\u00e9finie pour reformater l'affichage des prix. Elle r\u00e9cup\u00e8re les prix minimum et maximum d'un produit variable pour d\u00e9terminer s'il existe une variation de prix.<\/li>\n\n\n\n<li><strong>Condition de Prix :<\/strong> Si le prix minimum et maximum sont diff\u00e9rents, la fonction affiche \"\u00c0 partir de\" suivi du prix minimum.<\/li>\n\n\n\n<li><strong>Affichage Standard :<\/strong> Dans le cas o\u00f9 le produit variable a un prix unique (min et max identiques), le prix est affich\u00e9 normalement sans pr\u00e9fixe.<\/li>\n<\/ul>\n","protected":false},"excerpt":{"rendered":"<p>Ce snippet permet d'afficher un format de prix plus intuitif, en indiquant \"\u00e0 partir de\" pour les produits variables Woocommerce. Cela permet d'afficher le prix minimum sans afficher une fourchette de prix. Ex : Au lieu de '20\u20ac - 70\u20ac' on affiche 'A partir de 20\u20ac'<\/p>\n","protected":false},"author":4,"featured_media":38154,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_seopress_robots_primary_cat":"none","_seopress_titles_title":"Afficher &#039;\u00e0 partir de&#039; pour les produits variables WooCommerce","_seopress_titles_desc":"Ce snippet permet d&#039;afficher un format de prix plus intuitif, en indiquant &quot;\u00e0 partir de&quot; pour les produits variables Woocommerce. Cela permet...","_seopress_robots_index":"","footnotes":""},"categories":[200],"tags":[],"class_list":["post-38159","post","type-post","status-publish","format-standard","has-post-thumbnail","hentry","category-snippet-wordpress"],"_links":{"self":[{"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/posts\/38159"}],"collection":[{"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/users\/4"}],"replies":[{"embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/comments?post=38159"}],"version-history":[{"count":2,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/posts\/38159\/revisions"}],"predecessor-version":[{"id":38164,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/posts\/38159\/revisions\/38164"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/media\/38154"}],"wp:attachment":[{"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/media?parent=38159"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/categories?post=38159"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/citronnoir.com\/wp-json\/wp\/v2\/tags?post=38159"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}